angular.module("previsaoDoTempo").controller("previsaoController",function(previsaoAPI){this.titulo="Previsão do Tempo",this.error="Cidade não encontrada!";const that=this;this.buscaPrevisao=function(nomeDaCidade){previsaoAPI.carregaPrevisoes(nomeDaCidade).success(function(data,status){that.cidadeSelecionada=data,that.showError="404"===data.cod})}}),angular.module("previsaoDoTempo").directive("uiAlert",function(){return{templateUrl:"view/alert.html",restrict:"AE",scope:{title:"@",message:"@"}}}),angular.module("previsaoDoTempo").filter("cidadeEstado",function(){return function(input,estado){return input&&estado?input+" - "+estado:input}}),angular.module("previsaoDoTempo").value("config",{baseUrl:"http://api.openweathermap.org/data/2.5/weather?APPID=b06246ab3117789f1d4b2e93a3683bec&lang=pt&units=metric&q="}),angular.module("previsaoDoTempo").filter("descricao",function(){return function(input){if(input){var listaDeNomes=input.split(" ");return listaDeNomesFormatada=listaDeNomes.map(function(nome){return/(da|de)/.test(nome)?nome:nome.charAt(0).toUpperCase()+nome.substring(1).toLowerCase()}),listaDeNomesFormatada.join(" ")}}}),angular.module("previsaoDoTempo").factory("previsaoAPI",function($http,config){var _carregaPrevisoes=function(cidade){return $http.get(config.baseUrl+cidade)};return{carregaPrevisoes:_carregaPrevisoes}});